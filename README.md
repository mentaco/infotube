# Infotube

Infotubeは、ターミナル環境（特にtmuxやzellijなどのターミナルマルチプレクサ）での利用を想定した、情報表示用ニュースティッカー（電光掲示板）アプリケーションです。

テキストファイルの内容を循環表示するだけでなく、外部コマンドやスクリプトからの通知をTCPソケット経由で受け取り、即座に割り込み表示することができます。

## 特徴

*   **スマート・ティッカー**: 
    *   画面幅に収まらない長文は、スムーズにスクロール（マーキー）表示されます。
    *   短文は画面中央に静止表示され、視認性を確保します。
*   **静的リスト**:
    *   複数のテキストファイルを指定でき、それらを結合してループ再生します。
    *   ToDoリストや備忘録、格言などを常に表示させておくのに最適です。
*   **リアルタイム割り込み通知**:
    *   TCPソケットをリッスンし、外部から送信されたテキストを即座に表示します。
    *   ビルド完了通知や長時間タスクの終了アラートなどに利用できます。
    *   macOSではシステムサウンドによる通知音も再生可能です。
*   **高度なカスタマイズ**:
    *   スクロール速度、配色、フレームの有無などを設定ファイルで細かく調整できます。
    *   実行中もキー操作で一時停止や速度変更が可能です。

## インストール

Rust（Cargo）環境が必要です。

```bash
git clone <repository-url>
cd infotube
cargo install --path .
```

## 設定

設定ファイルは `~/.config/infotube/config.toml` に配置します。
初回起動時にファイルが存在しない場合は、デフォルト設定で動作します。

### 設定例 (`config.toml`)

```toml
# 読み込むテキストファイルのパス（絶対パスまたは ~ が使用可能）
source_files = [
    "~/Documents/todo.txt",
    "~/Documents/notes.txt"
]

# アニメーションの基本速度（ミリ秒単位。小さいほど速い）
scroll_speed_ms = 100

# 割り込み通知を受け付けるポート番号
listen_port = 8080

# 枠線を表示するかどうか
show_frame = true

# 割り込み時の通知音（macOSのみ有効。System/Library/Sounds/内のファイル名）
alert_sound = "Ping"

# 配色設定
[colors]
fg_default = "White"  # 通常時の文字色
bg_default = "Reset"   # 通常時の背景色
fg_alert = "Red"      # 割り込み時の文字色
bg_alert = "Reset"     # 割り込み時の背景色
```

> **Note**: 色の指定には、`Black`, `Red`, `Green`, `Yellow`, `Blue`, `Magenta`, `Cyan`, `Gray`, `DarkGray`, `LightRed`, `LightGreen`, `LightYellow`, `LightBlue`, `LightMagenta`, `LightCyan`, `White`, `Reset` などが使用できます。

## 使い方

ターミナルで以下のコマンドを実行します。

```bash
infotube
```

### キーボード操作

実行中に以下のキーで制御できます。

| キー | 動作 |
| :---: | :--- |
| `Space` | 一時停止 / 再開 |
| `+` / `k` | スクロール速度アップ |
| `-` / `j` | スクロール速度ダウン |
| `f` | 枠線（フレーム）の表示切替 |
| `b` | 輝度調整（Dimmedモード切替） |
| `Enter` | 割り込み表示を閉じて通常表示に戻る |
| `q` / `Esc` | アプリケーション終了 |

### 通知の送り方（割り込み表示）

`nc` (netcat) コマンドなどを使用して、設定したポート（デフォルト: 8080）にテキストを送信します。

**例: ビルド完了を通知**

```bash
echo "Build Process Completed Successfully!" | nc localhost 8080
```

通知を受信すると、現在表示中のテキストにかかわらず、受信したメッセージが即座にスクロール表示されます（デフォルト9秒間）。`Enter` キーを押すことで、手動で即座に閉じることも可能です。
